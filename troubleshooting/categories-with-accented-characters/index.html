<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Documentation of Hugo, a fast and flexible static site generator built with love by spf13, bep and friends in Go">
    <meta name="author" content="Steve Francia (spf13) and friends">
    <meta name="generator" content="Hugo 0.18.1" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <title>Hugo - Accented Categories</title>
    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/css/bootstrap-stripped-gohugo.css">
    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/css/bootstrap-changes-gohugo.css">
    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/css/bootstrap-additions-gohugo.css">

    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />
    <link href="https://meganii.github.io/gohugo.io.jp/css/style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/css/content-style.css" />
    <link href="https://meganii.github.io/gohugo.io.jp/css/style-responsive.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://meganii.github.io/gohugo.io.jp/vendor/highlightjs/css/monokai-sublime.css">

  </head>

  <body>
  
  <section id="container" class="">

      
      <header class="header black-bg">
            <div class="toggle-nav">
                <i class="fa fa-bars"></i>
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            
            <a href="/" class="logo"><img src="/img/hugo-logo.png" style="height: 40px; vertical-align: bottom;"> <span style="font-size: small; text-transform: none;">v0.18.1</span></a>
            
            <div class="top-nav notification-row">
                
                <div class="hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="spf13" data-repo="hugo" data-type="follow"></span>
                    <span rel="show-github" data-user="spf13" data-repo="hugo"></span>
                    <span rel="show-github" data-user="spf13" data-repo="hugo" data-type="fork"></span>
                </div>
            </div>

            <div class="nav title-row" id="top_menu">
                <h1 class="nav top-menu">Accented Categories</h1>
            </div>
      </header>
      


<aside>
    <div id="sidebar" class="nav-collapse">
        
        <ul class="sidebar-menu">
          
          
              
                <li>
                <a class="" href="https://github.com/spf13/hugo/releases">
                    <i class='fa fa-download'></i>
                    
                    <span>Download Hugo</span>
                </a>
              
              </li>
          
              
                <li>
                <a class="" href="/gohugo.io.jp/showcase/">
                    <i class='fa fa-cubes'></i>
                    
                    <span>Site Showcase</span>
                </a>
              
              </li>
          
              
                <li>
                <a class="" href="/gohugo.io.jp/community/press/">
                    <i class='fa fa-bullhorn'></i>
                    
                    <span>Press &amp; Articles</span>
                </a>
              
              </li>
          
              
                <li>
                <a class="" href="http://discuss.gohugo.io/">
                    <i class='fa fa-comments'></i>
                    
                    <span>Discuss Hugo</span>
                </a>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-heart'></i>
                
                <span>About Hugo</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/meta/release-notes/">Release Notes</a> </li>
                    
                    <li><a href="/gohugo.io.jp/meta/roadmap/">Hugo Roadmap</a> </li>
                    
                    <li><a href="/gohugo.io.jp/meta/license/">License</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-road'></i>
                
                <span>Getting Started</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/overview/introduction/">Introduction</a> </li>
                    
                    <li><a href="/gohugo.io.jp/overview/quickstart/">Quickstart</a> </li>
                    
                    <li><a href="/gohugo.io.jp/overview/installing/">Installing Hugo</a> </li>
                    
                    <li><a href="/gohugo.io.jp/overview/usage/">Using Hugo</a> </li>
                    
                    <li><a href="/gohugo.io.jp/overview/configuration/">Configuration</a> </li>
                    
                    <li><a href="/gohugo.io.jp/overview/source-directory/">Source Organization</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-file-text'></i>
                
                <span>Content</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/content/organization/">Organization</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/supported-formats/">Supported Formats</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/front-matter/">Front Matter</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/sections/">Sections</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/types/">Types</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/archetypes/">Archetypes</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/ordering/">Ordering</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/summaries/">Summaries</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/markdown-extras/">Markdown Extras</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/multilingual/">Multilingual Mode</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/example/">Example</a> </li>
                    
                    <li><a href="/gohugo.io.jp/content/using-index-md/">Using _index.md</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-desktop'></i>
                
                <span>Themes</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="http://themes.gohugo.io">Theme Showcase</a> </li>
                    
                    <li><a href="/gohugo.io.jp/themes/overview/">Themes Overview</a> </li>
                    
                    <li><a href="/gohugo.io.jp/themes/installing/">Installing Themes</a> </li>
                    
                    <li><a href="/gohugo.io.jp/themes/usage/">Using a Theme</a> </li>
                    
                    <li><a href="/gohugo.io.jp/themes/customizing/">Customizing a Theme</a> </li>
                    
                    <li><a href="/gohugo.io.jp/themes/creation/">Creating a Theme</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-columns'></i>
                
                <span>Templates</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/templates/overview/">Overview</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/go-templates/">Go Template Primer</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/ace/">Ace templates</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/amber/">Amber templates</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/functions/">Functions</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/variables/">Variables</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/content/">Single Content</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/list/">List of Content</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/homepage/">Homepage</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/terms/">Taxonomy Terms</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/views/">Content Views</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/blocks/">Block Templates</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/partials/">Partial Templates</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/rss/">RSS</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/sitemap/">Sitemap</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/404/">Custom 404 page</a> </li>
                    
                    <li><a href="/gohugo.io.jp/templates/debugging/">Debugging</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-tags'></i>
                
                <span>Taxonomies</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/taxonomies/overview/">Overview</a> </li>
                    
                    <li><a href="/gohugo.io.jp/taxonomies/usage/">Usage</a> </li>
                    
                    <li><a href="/gohugo.io.jp/taxonomies/displaying/">Displaying</a> </li>
                    
                    <li><a href="/gohugo.io.jp/taxonomies/templates/">Templates</a> </li>
                    
                    <li><a href="/gohugo.io.jp/taxonomies/ordering/">Ordering</a> </li>
                    
                    <li><a href="/gohugo.io.jp/taxonomies/methods/">Structure &amp; Methods</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-gift'></i>
                
                <span>Extras</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/extras/aliases/">Aliases</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/analytics/">Analytics</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/builders/">Builders</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/comments/">Comments</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/crossreferences/">Cross-References</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/robots-txt/">Custom robots.txt</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/datafiles/">Data Files</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/datadrivencontent/">Data-driven Content</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/gitinfo/">GitInfo</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/livereload/">LiveReload</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/menus/">Menus</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/pagination/">Pagination</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/permalinks/">Permalinks</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/scratch/">Scratch</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/shortcodes/">Shortcodes</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/highlighting/">Syntax Highlighting</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/toc/">Table of Contents</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/localfiles/">Traversing Local Files</a> </li>
                    
                    <li><a href="/gohugo.io.jp/extras/urls/">URLs</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-group'></i>
                
                <span>Community</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/community/mailing-list/">Mailing List</a> </li>
                    
                    <li><a href="/gohugo.io.jp/community/contributing/">Contributing to Hugo</a> </li>
                    
                    <li><a href="http://discuss.gohugo.io">Discussion Forum</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu">
            <a href="javascript:;" class="">
                <i class='fa fa-book'></i>
                
                <span>Tutorials</span>
                <span class="menu-arrow fa fa-angle-right"></span>
            </a>
                <ul class="sub">
                    
                    <li><a href="/gohugo.io.jp/tutorials/automated-deployments/">Automated deployments</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/creating-a-new-theme/">Creating a New Theme</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/hosting-on-bitbucket/">Hosting on Bitbucket</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/github-pages-blog/">Hosting on GitHub</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/hosting-on-gitlab/">Hosting on GitLab</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/how-to-contribute-to-hugo/">How to contribute</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/installing-on-mac/">Installing on Mac</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/installing-on-windows/">Installing on Windows</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/mathjax/">MathJax Support</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/migrate-from-jekyll/">Migrating from Jekyll</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/create-a-multilingual-site/">Multilingual Site</a> </li>
                    
                    <li><a href="/gohugo.io.jp/tutorials/deployment-with-rsync/">Deployment with rsync</a> </li>
                    
                </ul>
              
              </li>
          
              

            <li class="sub-menu active">
            <a href="javascript:;" class="">
                <i class='fa fa-wrench'></i>
                
                <span>Troubleshooting</span>
                <span class="menu-arrow fa fa-angle-down"></span>
            </a>
                <ul class="sub open">
                    
                    <li><a href="/gohugo.io.jp/troubleshooting/overview/">Troubleshooting Overview</a> </li>
                    
                    <li><a href="/gohugo.io.jp/troubleshooting/strange-eof-error/">Strange EOF error</a> </li>
                    
                    <li class="active"><a href="/gohugo.io.jp/troubleshooting/categories-with-accented-characters/">Accented Categories</a> </li>
                    
                </ul>
              
              </li>
          
              
                <li>
                <a class="" href="/gohugo.io.jp/tools/">
                    <i class='fa fa-cogs'></i>
                    
                    <span>Tools</span>
                </a>
              
              </li>
          
              
                <li>
                <a class="" href="/gohugo.io.jp/commands/">
                    <i class='fa fa-space-shuttle'></i>
                    
                    <span>Hugo Cmd Reference</span>
                </a>
              
              </li>
          
            <li> <a href="https://github.com/spf13/hugo/issues" target="blank"><i class='fa fa-life-ring'></i> <span>Issues & Help</span></a> </li>
            
              <li><a href="https://github.com/spf13/hugo/edit/master/docs/content/troubleshooting/categories-with-accented-characters.md" target="blank"><i class='fa fa-edit'></i> Refine this Page</a> </li>
            
        </ul>
        
    </div>
</aside>



      
      <section id="main-content">
          <section class="wrapper">

              
                  
                      
                      
                          
                          
                          
                      
                      
                  
              

              <div class="row">
                  <div class="col-md-1">
                      
                      
                      
                  </div>
                <div class="col-md-10">
                    <section class="panel">
                          
                              
                          
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-8 col-lg-offset-2 cse">
                                <input type="search" id="search-input" placeholder="Search...">
                            </div>
                        </div>




<h2 id="trouble-categories-with-accented-characters">Trouble: Categories with accented characters</h2>

<p>One of my categories is named &ldquo;Le-carré,&rdquo; but the link ends up being generated like this:</p>

<pre><code>categories/le-carr%C3%A9
</code></pre>

<p>And not working. Is there an easy fix for this that I&rsquo;m overlooking?</p>

<h2 id="solution">Solution</h2>

<p>Mac OS X user?  If so, you are likely a victim of HFS Plus file system&rsquo;s insistence to store the &ldquo;é&rdquo; (U+00E9) character in Normal Form Decomposed (NFD) mode, i.e. as &ldquo;e&rdquo; + &ldquo;  ́&rdquo; (U+0065 U+0301).</p>

<p><code>le-carr%C3%A9</code> is actually correct, <code>%C3%A9</code> being the UTF-8 version of U+00E9 as expected by the web server.  Problem is, OS X turns [U+00E9] into [U+0065 U+0301], and thus <code>le-carr%C3%A9</code> no longer works.  Instead, only <code>le-carre%CC%81</code> ending with <code>e%CC%81</code> would match that [U+0065 U+0301] at the end.</p>

<p>This is unique to OS X.  The rest of the world does not do this, and most certainly not your web server which is most likely running Linux.  This is not a Hugo-specific problem either.  Other people have been bitten by this when they have accented characters in their HTML files.</p>

<p>Nor is this problem specific to Latin scripts.  Japanese Mac users often run into the same issue, e.g. with <code>だ</code> decomposing into <code>た</code> and <code>&#x3099;</code>.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup></p>

<p>Rsync 3.x to the rescue!  From <a href="http://serverfault.com/questions/397420/converting-utf-8-nfd-filenames-to-utf-8-nfc-in-either-rsync-or-afpd">an answer posted on Server Fault</a>:</p>

<blockquote>
<p>You can use rsync&rsquo;s <code>--iconv</code> option to convert between UTF-8 NFC &amp; NFD, at least if you&rsquo;re on a Mac. There is a special <code>utf-8-mac</code> character set that stands for UTF-8 NFD. So to copy files from your Mac to your web server, you&rsquo;d need to run something like:</p>

<p><code>rsync -a --iconv=utf-8-mac,utf-8 localdir/ mywebserver:remotedir/</code></p>

<p>This will convert all the local filenames from UTF-8 NFD to UTF-8 NFC on the remote server. The files&rsquo; contents won&rsquo;t be affected.</p>
</blockquote>

<p>Please make sure you have the latest version rsync 3.x installed.  The rsync that ships with OS X (even the latest 10.10 Yosemite) is the horribly old at version 2.6.9 protocol version 29.  The <code>--iconv</code> flag is new in rsync 3.x.</p>

<h3 id="references">References</h3>

<ul>
<li><a href="http://discuss.gohugo.io/t/categories-with-accented-characters/505">http://discuss.gohugo.io/t/categories-with-accented-characters/505</a></li>
<li><a href="http://serverfault.com/questions/397420/converting-utf-8-nfd-filenames-to-utf-8-nfc-in-either-rsync-or-afpd">Converting UTF-8 NFD filenames to UTF-8 NFC, in either rsync or afpd</a> (Server Fault)</li>
<li><a href="http://wiki.apache.org/subversion/NonNormalizingUnicodeCompositionAwareness">http://wiki.apache.org/subversion/NonNormalizingUnicodeCompositionAwareness</a></li>
<li><a href="https://en.wikipedia.org/wiki/Unicode_equivalence#Example">https://en.wikipedia.org/wiki/Unicode_equivalence#Example</a></li>
<li><a href="http://zaiste.net/2012/07/brand_new_rsync_for_osx/">http://zaiste.net/2012/07/brand_new_rsync_for_osx/</a></li>
<li><a href="https://gogo244.wordpress.com/2014/09/17/drived-me-crazy-convert-utf-8-mac-to-utf-8/">https://gogo244.wordpress.com/2014/09/17/drived-me-crazy-convert-utf-8-mac-to-utf-8/</a></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">As explained in the Japanese Perl Users article <a href="http://perl-users.jp/articles/advent-calendar/2010/english/24">Encode::UTF8Mac makes you happy while handling file names on MacOSX</a>.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>


                    <div class="row">
                        <div class="footer-panel">
			  <p>Last revision: January 6, 2016 | <a href="https://github.com/spf13/hugo/commit/01f71babfcc772b34d8a4226f2c2e1e62ef24c8b">docs: Add lastmod to content files (01f71ba)</a>
                          <span style="float: right;">Hugo v0.18.1 documentation</span>
                        </p>
                        </div>
                    </div>

                    </div>
                    </section>

                    </div>

                <div class="col-md-1">
                    
                    
                    
                </div>
              </div>
              
          </section>
      </section>
     
  </section>
  

    
    <script type="text/javascript" src="/vendor/jquery/js/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="/vendor/flesler/js/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="/vendor/twitter/js/bootstrap.min.js"></script>
    
    <script type="text/javascript" src="/vendor/highlightjs/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/scripts.js"></script>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script> 
    <script type="text/javascript"> 
    docsearch({
      apiKey: '167e7998590aebda7f9fedcf86bc4a55',
      indexName: 'hugodocs',
      inputSelector: '#search-input',
      algoliaOptions: {
        hitsPerPage: 5
      }
    }); 
    </script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-7131036-4', 'spf13.com');
  ga('send', 'pageview');

</script>

  </body>
</html>

